---
sidebar_position: 1
---

# Получить обновления (информацию о новых событиях)
Выполняет запрос **/getUpdates**, возвращающий информацию о последних событиях бота. Используется при работе в *polling* режиме


*Функция ПолучитьОбновления(Знач Токен, Знач Таймаут = 0, Знач Смещение = "") Экспорт*

  | Параметр | CLI опция | Тип | Назначение |
  |-|-|-|-|
  | Токен | --token | Строка | Токен бота |
  | Таймаут | --timeout | Строка, Число | Длительность ожидания сообытия (в секундах) |
  | Смещение | --offset | Строка, Число | update_id, с которого начнется список обновлений. Позволяет отсекать ранее полученные события |
  
  Вовзращаемое значение: Соответствие - сериализованный JSON ответа от Telegram


```bsl title="Пример кода"
	
  Токен    = "111111111:AACccNYOAFbuhAL5GAaaBbbbOjZYFvLZZZZ";
  Таймаут  = 30;
  Смещение = ПоследнийUpdateID + 1;
	
  Ответ = OPI_Telegram.ПолучитьОбновления(Токен, Таймаут, Смещение); //Соответствие
  Ответ = OPI_Инструменты.JSONСтрокой(Ответ);                        //JSON строка
	
```

```sh title="Пример команд CLI"

    oint telegram ПолучитьОбновления --token "%token%" --timeout 30

```

```json title="Результат"
{
 "result": [
  {
   "message": {
    "text": "Yo",
    "date": 1704531153,
    "chat": {
     "username": "JKIee",
     "type": "private",
     "last_name": "Titowets",
     "first_name": "Anton",
     "id": 1234567890
    },
    "from": {
     "language_code": "ru",
     "username": "JKIee",
     "last_name": "Titowets",
     "first_name": "Anton",
     "is_bot": false,
     "id": 1234567890
    },
    "message_id": 3
   },
   "update_id": 291363467
  }
 ],
 "ok": true
}
```
