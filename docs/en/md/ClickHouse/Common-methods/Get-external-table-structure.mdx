---
sidebar_position: 4
description: Get external table structure and other functions to work with ClickHouse in the Open Integration Package, a free open-source integration library for 1C:Enterprise 8, OneScript and CLI
keywords: [1C, 1ะก, 1ะก:Enterprise, 1ะก:Enterprise 8.3, API, Integration, Services, Exchange, OneScript, CLI, ClickHouse]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Get external table structure
 Gets the description structure of the external table of the request



`Function GetExternalTableStructure(Val Name, Val ColoumnsStruct, Val Data = Undefined, Val DataFormat = Undefined) Export`

  | Parameter | CLI option | Type | Required | Description |
  |-|-|-|-|-|
  | Name | --name | String | &#x2714; | Table name |
  | ColoumnsStruct | --cols | Structure Of KeyAndValue | &#x2714; | Table column structure: Key > name, Value > data type |
  | Data | --data | Arbitrary | &#x2716; | String, file, or binary data of the table |
  | DataFormat | --format | String | &#x2716; | Data format: CVS, TVS, JSON, etc.. |

  
  Returns:  Structure Of KeyAndValue - Structure of external table description



```bsl title="1C:Enterprise/OneScript code example"
    // Minimal structure

    TableName      = "external_data";
    ColoumnsStruct = New Structure;
    ColoumnsStruct.Insert("id"  , "UInt64");
    ColoumnsStruct.Insert("name", "String");

    Result = OPI_ClickHouse.GetExternalTableStructure(TableName, ColoumnsStruct);

    // With TSV data

    TableData = StrTemplate("1%1Test
    |2%2Test2", Chars.Tab);

    Result = OPI_ClickHouse.GetExternalTableStructure(TableName, ColoumnsStruct, TableData, "TSV");
```
 



```json title="Result"
{
 "name": "external_data",
 "cols": {
  "id": "UInt64",
  "name": "String"
 },
 "data": "1\tTest\n2Test2",
 "format": "TSV"
}
```
