---
sidebar_position: 2
description: Получить ответ и другие функции для работы с Ollama в Открытом пакете интеграций - бесплатной open-source библиотеке интеграций для 1С:Предприятие 8, OneScript и CLI
keywords: [1C, 1С, 1С:Предприятие, 1С:Предприятие 8.3, API, Интеграция, Сервисы, Обмен, OneScript, CLI, Ollama]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Получить ответ
 Генерирует ответ по заданному текстовому запросу



`Функция ПолучитьОтвет(Знач URL, Знач Модель, Знач Вопрос, Знач ДопПараметры = "", Знач ДопЗаголовки = "") Экспорт`

  | Параметр | CLI опция | Тип | Обяз. | Назначение |
  |-|-|-|-|-|
  | URL | --url | Строка | &#x2714; | URL сервера Ollama |
  | Модель | --model | Строка | &#x2714; | Имя модели |
  | Вопрос | --prompt | Строка | &#x2714; | Текст запроса |
  | ДопПараметры | --options | Структура Из КлючИЗначение | &#x2716; | Доп. параметры. См. ПолучитьСтруктуруПараметровЗапроса |
  | ДопЗаголовки | --headers | Соответствие Из КлючИЗначение | &#x2716; | Доп заголовки запроса, если необходимо |

  
  Возвращаемое значение:   Соответствие Из КлючИЗначение - Результат обработки

<br/>

:::tip
Метод в документации API: [Generate a completion](https://github.com/ollama/ollama/blob/main/docs/api.md#generate-a-completion)
:::
<br/>



```bsl title="Пример использования для 1С:Предприятие/OneScript"
    URL   = "https://hut.openintegrations.dev/ollama";
    Токен = "12We34..."; // Авторизация - не часть API Ollama

    Промпт = "What is 1C:Enterprise?";
    Модель = "tinyllama";

    ДопЗаголовки = Новый Соответствие;
    ДопЗаголовки.Вставить("Authorization", СтрШаблон("Bearer %1", Токен));

    Результат = OPI_Ollama.ПолучитьОтвет(URL, Модель, Промпт, , ДопЗаголовки);

    // С параметрами

    Промпт = "Ollama is 22 years old and is busy saving the world. Respond using JSON";

    Формат = OPI_Инструменты.JSONВСтруктуру("
    |{
    |""type"": ""object"",
    |""properties"": {
    |  ""age"": {
    |    ""type"": ""integer""
    |  },
    |  ""available"": {
    |    ""type"": ""boolean""
    |  }
    |},
    |""required"": [
    |  ""age"",
    |  ""available""
    |]
    |}");

    ДопПараметры = Новый Структура("format", Формат);

    Результат = OPI_Ollama.ПолучитьОтвет(URL, Модель, Промпт, ДопПараметры, ДопЗаголовки);
```
    

 <Tabs>
  
    <TabItem value="bash" label="Bash" default>
        ```bash
            oint ollama ПолучитьОтвет \
              --url "\"https://hut.openintegrations.dev/ollama\"" \
              --model "\"mario\"" \
              --prompt "\"How are you?\"" \
              --headers {"Authorization":"***"}
        ```
    </TabItem>
  
    <TabItem value="bat" label="CMD/Bat" default>
        ```batch
            oint ollama ПолучитьОтвет ^
              --url "\"https://hut.openintegrations.dev/ollama\"" ^
              --model "\"mario\"" ^
              --prompt "\"How are you?\"" ^
              --headers {"Authorization":"***"}
        ```
    </TabItem>
</Tabs>


```json title="Результат"
{
 "model": "tinyllama",
 "created_at": "2025-09-08T10:00:54.039248247Z",
 "response": "1C:Enterprise is a powerful enterprise resource planning (ERP) system designed for businesses of any size and complexity, including manufacturing, distribution, and service industries. It offers an all-inclusive platform that integrates financial management, customer relationship management (CRM), supply chain management (SCM), inventory management, and e-commerce functionality in one solution. Its robust features include:\n\n1. Financial Management: 1C:Enterprise has a comprehensive set of financial management modules to help businesses streamline their finances, manage cash flow, and prepare for tax season. It offers modules for revenue recognition, accounting, general ledger, payroll, and tax accounting.\n\n2. Customer Relationship Management (CRM): 1C:Enterprise's CRM module provides businesses with a unified platform to manage customer data, interactions, and transactions across various touchpoints. It includes features such as sales order management, customer relationship management, lead management, and marketing automation.\n\n3. Supply Chain Management (SCM): 1C:Enterprise's SCM module enables businesses to improve their supply chain operations by automating various aspects of the process. This includes modules for inventory management, supplier management, order management, and shipment management.\n\n4. Inventory Management: 1C:Enterprise's inventory management module is designed to help businesses optimize their inventory levels, manage stockouts, and respond quickly to changing demand. It provides features such as demand forecasting, order fulfillment, and return merchandising.\n\n5. E-commerce: 1C:Enterprise's e-commerce module is designed to help businesses expand their reach by enabling them to sell products online. It offers features for online sales management, product catalog management, and customer relationship management.\n\n6. Enterprise-wide Integration: 1C:Enterprise's platform integrates all of the above modules into a single solution, allowing businesses to streamline their operations and optimize their processes. This includes features such as API integration, data synchronization, and enterprise messaging.\n\nOverall, 1C:Enterprise is a powerful ERP system designed for businesses of any size and complexity, providing a unified platform to manage all aspects of their operations.",
 "done": true,
 "done_reason": "stop",
 "context": [
  529,
  29989,
  5205,
  29989,
  29958,
  13,
  3492,
  526,
  263,
  8444,
  319,
  29902,
  20255,
  29889,
  2,
  29871,
  13,
  29966,
  29989,
  1792,
  29989,
  29958,
  13,
  5618,
  338,
  29871,
  29896,
  29907,
  29901,
  10399,
  7734,
  29973,
  2,
  29871,
  13,
  29966,
  29989,
  465,
  22137,
  29989,
  29958,
  13,
  29896,
  29907,
  29901,
  10399,
  7734,
  338,
  263,
  13988,
  3896,
  7734,
  6503,
  18987,
  313,
  1001,
  29925,
  29897,
  1788,
  8688,
  363,
  5381,
  267,
  310,
  738,
  2159,
  322,
  13644,
  29892,
  3704,
  12012,
  3864,
  29892,
  4978,
  29892,
  322,
  2669,
  21136,
  267,
  29889,
  739,
  16688,
  385,
  599,
  29899,
  3742,
  12160,
  573,
  7481,
  393,
  22782,
  29879,
  18161,
  10643,
  29892,
  11962,
  9443,
  10643,
  313,
  11341,
  29924,
  511,
  11421,
  9704,
  10643,
  313,
  7187,
  29924,
  511,
  11817,
  706,
  10643,
  29892,
  322,
  321,
  29899,
  2055,
  6269,
  29872,
  9863,
  297,
  697,
  1650,
  29889,
  8011,
  16424,
  5680,
  3160,
  29901,
  13,
  13,
  29896,
  29889,
  4231,
  14006,
  29880,
  15057,
  29901,
  29871,
  29896,
  29907,
  29901,
  10399,
...
```
