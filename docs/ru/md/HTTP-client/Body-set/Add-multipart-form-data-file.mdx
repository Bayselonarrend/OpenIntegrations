---
sidebar_position: 6
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Добавить файл multipart 
 Добавляет блок файла в multipart/form-data тело



`Функция ДобавитьФайлMultipartFormData(Знач ИмяПоля, Знач ИмяФайла, Знач Данные, Знач ТипДанных = "") Экспорт`

  | Параметр | CLI опция | Тип | Обяз. | Назначение |
  |-|-|-|-|-|
  | ИмяПоля | - | Строка | &#x2714; | Имя поля формы |
  | ИмяФайла | - | Строка | &#x2714; | Имя файла с расширением |
  | Данные | - | ДвоичныеДанные, Строка | &#x2714; | Данные файла для записи |
  | ТипДанных | - | Строка | &#x2716; | Mime тип записываемых данных |

  
  Возвращаемое значение:   ОбработкаОбъект.OPI_HTTPКлиент -  Этот же объект обработки

<br/>

:::tip
Запись Multipart предварительно должна быть инициализирована при помощи функции `НачатьЗаписьТелаMultipart`

Параметры с типом данных Двоичные данные могут принимать также пути к файлам на диске и URL
:::

:::caution
**NOCLI:** данный метод недоступен для использования в CLI версии
:::
<br/>



```bsl title="Пример использования для 1С:Предприятие/OneScript"
    URL = "https://httpbin.org";
    URL = URL + "/post";

    Картинка = "https://api.athenaeum.digital/test_data/picture.jpg"; // URL, Путь или Двоичные данные

    Результат = OPI_ЗапросыHTTP.НовыйЗапрос()
        .Инициализировать(URL)
        .НачатьЗаписьТелаMultipart()
        .ДобавитьФайлMultipartFormData("file1", "pic.png", Картинка, "image/png") // <---
        .ДобавитьПолеMultipartFormData("Поле1", "Текст")
        .ДобавитьПолеMultipartFormData("Поле2", "10")
        .ОбработатьЗапрос("POST")
        .ВернутьОтветКакJSONКоллекцию();
```
    




