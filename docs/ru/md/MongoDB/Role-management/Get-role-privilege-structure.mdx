---
sidebar_position: 7
description: Получить структуру привилегии роли и другие функции для работы с MongoDB в Открытом пакете интеграций - бесплатной open-source библиотеке интеграций для 1С:Предприятие 8, OneScript и CLI
keywords: [1C, 1С, 1С:Предприятие, 1С:Предприятие 8.3, API, Интеграция, Сервисы, Обмен, OneScript, CLI, MongoDB]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Получить структуру привилегии роли
 Формирует структуру информации о привилегии для использования при работе с ролями



`Функция ПолучитьСтруктуруПривилегииРоли(Знач Ресурс, Знач МассивДействий) Экспорт`

  | Параметр | CLI опция | Тип | Обяз. | Назначение |
  |-|-|-|-|-|
  | Ресурс | --res | Структура Из КлючИЗначение | &#x2714; | Ресурс привилегии |
  | МассивДействий | --act | Массив Из Строка | &#x2714; | Массив доступных действий привилегии |

  
  Возвращаемое значение:   Структура - Структура привилегии

:::tip
Ресурс может быть определен в одном из следующих форматов:<br/>Структура для коллекции: `{ db: "база данных", collection: "имя коллекции" }`

Структура для кластера:  `{ cluster : true }`
:::
<br/>


```bsl title="Пример использования для 1С:Предприятие/OneScript"
    База     = "main";
    Ресурс   = Новый Структура("db,collection", База, "new_collection");
    Действия = Новый Массив;

    Действия.Добавить("find");
    Действия.Добавить("insert");
    Действия.Добавить("update");

    Опции = Новый Структура;
    Опции.Вставить("res", Ресурс);
    Опции.Вставить("act", Действия);

    Результат = OPI_ПолучениеДанныхТестов.ВыполнитьТестCLI("mongodb", "ПолучитьСтруктуруПривилегииРоли", Опции);
```
    

 <Tabs>
  
    <TabItem value="bash" label="Bash" default>
        ```bash
            # JSON данные также могут быть переданы как путь к файлу .json
            
            oint mongodb ПолучитьСтруктуруПривилегииРоли \
              --res "{'db':'main','collection':'new_collection'}" \
              --act "['find','insert','update']"
        ```
    </TabItem>
  
    <TabItem value="bat" label="CMD/Bat" default>
        ```batch
            :: JSON данные также могут быть переданы как путь к файлу .json
            
            oint mongodb ПолучитьСтруктуруПривилегииРоли ^
              --res "{'db':'main','collection':'new_collection'}" ^
              --act "['find','insert','update']"
        ```
    </TabItem>
</Tabs>


```json title="Результат"
{
 "resource": {
  "db": "main",
  "collection": "new_collection"
 },
 "actions": [
  "find",
  "insert",
  "update"
 ]
}
```
