---
id: PostgreSQL
sidebar_class_name: PostgreSQL
---

<img src={require('../../static/img/APIs/PostgreSQL.png').default} width='64px' />

# PostgreSQL

Этот раздел посвящен библиотеке для работы с базами данных PostgreSQL. На данной странице описаны все действия, необходимые для полноценного начала работы

## О реализованных методах

Данная библиотека состоит из двух частей: основных методов, вроде подключения и выполнения SQL-запросов, и небольшой ORM для часто встречающихся операций, вроде CREATE, SELECT, INSERT, DELETE и пр. Работа через ORM и через тексты запросов, выполняемые через функцию `ВыполнитьЗапросSQL()`, технически не отличается: ORM просто формирует текст SQL-запроса на основе макетов, но далее также вызывает их через эту функцию

По умолчанию, все запросы SELECT возвращают массив выбранных данных, а остальные запросы - только `true` в поле `result` при успехе, либо `false` и текст ошибки в полях `result` и `error` соответственно. Для выполнения запросов, требующих возврата данных, но не являющихся запросами SELECT, в функции `ВыполнитьЗапросSQL()` есть параметр `ФорсироватьРезультат`

## Параметры запросов

Коннектор PostgreSQL поддерживает использование позиционных параметров. Все значения, передаваемые как при прямом выполнении запросов через функцию `ВыполнитьЗапросSQL()`, так и в ORM методах с установкой значений, вроде `ДобавитьЗаписи` и `ОбновитьЗаписи`, должный представлять из себя структуру вида `{'Тип данных': 'Значение'}`. Поддерживаются следующие типы данных:

  | Тип | Поддержка | Синонимы | Допустимые типы 1С |
  |-|-|-|-|
  | BOOL | Реализовано, проверено | - | Булево |
  | "char" | Реализовано, проверено | OLDCHAR | Число |
  | SMALLINT | Реализовано, проверено | - | Число |
  | SMALLSERIAL | Реализовано, проверено | - | Число |
  | INT | Реализовано, проверено | - | Число |
  | SERIAL | Реализовано, проверено | - | Число |
  | BIGINT | Реализовано, проверено | - | Число |
  | BIGSERIAL | Реализовано, проверено | - | Число |
  | OID | Реализовано, проверено | - | Число |
  | REAL | Реализовано, проверено | - | Число |
  | DOUBLE PRECISION | Реализовано, проверено | DOUBLE_PRECISION | Число |
  | VARCHAR | Реализовано, проверено | - | Строка |
  | TEXT | Реализовано, проверено | - | Строка |
  | CHAR | Реализовано, проверено | - | Строка |
  | CITEXT | Реализовано, проверено | - | Строка |
  | NAME | Реализовано, проверено | - | Строка |
  | INET | Реализовано, проверено | - | Строка |
  | UUID | Реализовано, проверено | - | Строка, УникальныйИдентификатор |
  | TIMESTAMP | Реализовано, проверено | - | Дата, Строка (ISO 8601, RFC 3339) |
  | TIMESTAMP WITH TIME ZONE | Реализовано, проверено | TIMESTAMP_WITH_TIME_ZONE | Дата (часовой пояс будет указан как UTC), Строка (RFC 3339) |
  | DATE | Реализовано, проверено | - | Дата (с любым временем), Строка (ISO 8601, RFC 3339) |
  | TIME | Реализовано, проверено | - | Дата (с любой датой), Строка (ISO 8601, RFC 3339) |
  | BYTEA | Реализовано, проверено | - | ДвоичныеДанные, Путь к файлу, Base64 строка (все приводится к Base64 строке) |
  | JSON | Реализовано, проверено | - | Массив, Структура, Соответствие |
  | JSONB | Реализовано, проверено | - | Массив, Структура, Соответствие |
  | LTREE | Реализовано, не проверено | - | Строка |
  | LQUERY | Реализовано, не проверено | - | Строка |
  | LTXTQUERY | Реализовано, не проверено | - | Строка |
  | HSTORE | Реализовано, не проверено | - | Структура, Соответствие |



## Совместимость

Технически, реализация коннектора представляет из себя Native компоненту на Rust. Она поставляется в формате zip-архива, и, теоретически, должна работать на всех доступных платформах: x86 и x64 Windows и Linux. Фактическое тестирование проводилось на Windows x64 и, косвенно (через OneScript), на Linux x64