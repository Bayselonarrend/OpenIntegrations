---
id: Viber
sidebar_class_name: Viber
keywords: [1C, 1С, 1С:Предприятие, 1С:Предприятие 8.3, API, Интеграция, Сервисы, Обмен, OneScript, CLI, Viber]
---

<img src={require('../../static/img/APIs/Viber.png').default} width='64px' />

# Viber

Этот раздел посвящен библиотеке для работы с Viber API в 1С:Предприятие, OneScript и CLI. На данной странице описаны все действия, необходимые для полноценного начала работы

:::warning
Начиная с 05.02.2024 данный способ создания ботов более недействителен: Rakuten отменил возможность создавать ботов бесплатно и теперь для работы с API необходимо проходить верификацию по коммерческой модели. Подробнее [тут](https://help.viber.com/hc/en-us/articles/15247629658525-Bot-commercial-model)
:::

:::caution
Методы данной библиотеки не проходят тестирование с 10.01.2025
:::

### Начало работы

У Viber есть варианта REST API: для работы с каналами и для чат-ботов. В обоих случаях основными параметрами для работы служат **Токен** и **IDПользователя**

### Управление каналом

1. Зайдите в приложение Viber и создайте новый канал	
2. После создания, перейдите в настройки канала -> Для разработчиков, и скопируйте **Токен** канала
3. Установите Webhook для получения обновлений. См. [Установить Webhook](/docs/Viber/Settings-and-information/Set-webhook)
4. **IDПользователя** - ваш ID или ID администратора канала. См. [Получить информацию о канале](/docs/Viber/Settings-and-information/Get-channel-information)
	
 <br/>

### Управление чат-ботом

1. Перейдите в [в кабинет партнера Viber](https://partners.viber.com/account/create-bot-account) и авторизуйтесь с вашим номером телефона, который привязан к Viber
2. Выберите пункт создания нового бота
3. В меню создания бота заполните все необходимые поля
4. Скопируйте **Токен**
4. Получите информацию о своем боте отсканировав QR на странице создания или в настройках (пункт чат-боты) в приложении Viber
5. Установите Webhook для получения обновлений. См. [Установить Webhook](/docs/Viber/Settings-and-information/Set-webhook)


При работе с чат-ботом в качестве **IDПользователя** будет выступать ID конкретного человека, с которым ведется диалог. Получить можно при обработке входящих сообщения по Webhook

**Важно:** ID одного и того же пользователя у чата и канала имеют разные значения. Нельзя использовать ID, полученный из сообщения боту для вызова методов управления каналом и наоборот