---
sidebar_position: 2
---

# Работа с консольным приложением

**OInt CLI** - приложение для командной строки, которое позволяет использовать методы Открытого пакета интеграций независимо от 1С и OneScript

## Первый запуск

Для начала работы с консольным приложением необходимо вызвать команду `oint` из командной строки/терминала. При установке из пакетов для Linux или Windows-установщика (после перезагрузки), сделать это можно из любого места без дополнительных настроек. Если `oint` установлен в качестве OPM пакета, то вызов из любого места доступен при условии, что подкаталог `bin` каталога OneScript находится в `PATH`

![demo](./img/1.gif)

## Справка

При запуске приложения без дополнительных опций, в окне терминала будет отображена начальная страница `oint`, где представлена начальная информация о приложении, а также перечень всех доступных команд (библиотек). Для того, чтобы просмотреть список доступных методов конкретной библиотеки, необходимо вызвать команду `oint` еще раз, передав имя библиотеки в каечтсве второго аргумента - например, `oint telegram`. Аналогичным образом можно получить и подробную информацию о конкретном методе: для этого необходимо вызвать команду вида `oint <библиотека> <метод>` - например `oint telegram ОтправитьТекстовоеСообщение`

>**Важно:** Имена библиотек чувствительны к регистру и пишутся строчными буквами. Имена методов к регистру не чувствительны

![demo](./img/2.gif) 

## Использование методов
Как и большинство других программ, нацеленных на использование в bat/sh скриптах, каждое отдельное действие Oint CLI выполняется при помощи вызова полной строки команды  следующего вида:

```powershell
    oint <библиотека> <метод> --парам1 "Значение" --парам2 "Значение"...
```

Параметры в строке вызова могут иметь один из следующих типов:

  + Строка - передается как строка в кавычках или без них
  + Число - передается как строка без кавычек, состоящая из цифр и (при необходимости) разделителя дробной части. Разделитель дробной части - `.`
  + Дата - передается как строка формата ISO 8601
  + Массив - передается как строка в формате JSON массива. Например, `"['Знач1','Знач2','Знач3']"`
  + JSON-объект (структура) - передается как путь к файлу или строка в JSON формате

После выполнения запрашиваемого действия, программа выводит результат и завершает работу. По умолчанию, вывод осуществляется в консоль, но имеется возможность его перенаправления для записи в файл - как стандартным способом `>`, так и при помощи общего параметра приложения `--out`. Разница между двумя этими способами заключается в кодировке сохраняемого файла: при использовании `>` это будет кодировка оболочки, а при использовании `--out` - UTF-8 (используется внутри OInt при работе). Также использование `--out` обязательно для методов, возвращающих двоичные данные в ответе (вроде скачивания файла из облачных хранилищ)

![demo](./img/3.gif) 

## Управляющие последовательности

В передаваемых параметрах допустимо использование стандартных управляющих последовательностей:  `\n`, `\r`, `\v` и `\f`. Они преобразуются в символы переноса строки, возврата каретки, вертикальной табуляции и перевода формы соответственно, во всех аргументах, за исключением:

+ Параметров-массивов и параметров в формате JSON (т.е. начинающихся с `{` или `[`)
+ Путей к файлам, если файл по этому пути существует
+ Стандартного параметра `--out`

Для избежания преобразования управляющих последовательностей там, где его быть не должно, необходимо экранировать их вторым знаком `\` (например, `\n`)

<hr/>

Всю дальнейшую информацию, которая может понадобиться вам для работы, вы сможете найти в других разделах данной документации, а также во встроенной справке OInt CLI
