---
sidebar_position: 1
description: Загрузить файл и другие функции для работы с FTP в Открытом пакете интеграций - бесплатной open-source библиотеке интеграций для 1С:Предприятие 8, OneScript и CLI
keywords: [1C, 1С, 1С:Предприятие, 1С:Предприятие 8.3, API, Интеграция, Сервисы, Обмен, OneScript, CLI, FTP]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Загрузить файл
 Загружает файл с диска или двоичные данные на сервер FTP



`Функция ЗагрузитьФайл(Знач Соединение, Знач Файл, Знач Путь) Экспорт`

  | Параметр | CLI опция | Тип | Обяз. | Назначение |
  |-|-|-|-|-|
  | Соединение | --conn | Произвольный | &#x2714; | Существующее соединение или конфигурация соединения |
  | Файл | --file | Строка, ДвоичныеДанные | &#x2714; | Файл на диске или данные файла |
  | Путь | --path | Строка | &#x2714; | Путь сохранения файла на сервере |

  
  Возвращаемое значение:   Соответствие Из КлючИЗначение - Результат обработки

<br/>

:::tip
Параметры с типом данных Двоичные данные могут принимать также пути к файлам на диске и URL
:::
<br/>



```bsl title="Пример использования для 1С:Предприятие/OneScript"
    КартинкаПуть = "C:\pic.png";

    КартинкаДД = Новый ДвоичныеДанные(Картинка);

    Хост   = "172.33.0.10";
    Порт   = "21";
    Логин  = "bayselonarrend";
    Пароль = "12we...";

    ИспользоватьПрокси = Истина;
    FTPS               = Истина;

    НастройкиПрокси = Неопределено;
    НастройкиTls    = Неопределено; // FTPS

    НастройкиFTP = OPI_FTP.ПолучитьНастройкиСоединения(Хост, Порт, Логин, Пароль, , 1000, 1000);

    Если ИспользоватьПрокси Тогда

        ТипПрокси = "http"; // http, socks5, socks4

        АдресПрокси  = "127.0.0.1";
        ПортПрокси   = "8071";
        ЛогинПрокси  = "proxyuser";
        ПарольПрокси = "12we...";

        НастройкиПрокси = OPI_FTP.ПолучитьНастройкиПрокси(АдресПрокси, ПортПрокси, ТипПрокси, ЛогинПрокси, ПарольПрокси);

    КонецЕсли;

    Если FTPS Тогда
        НастройкиTls = OPI_FTP.ПолучитьНастройкиTls(Истина);
    КонецЕсли;

    Соединение = OPI_FTP.ОткрытьСоединение(НастройкиFTP, НастройкиПрокси, НастройкиTls);

    Если OPI_FTP.ЭтоКоннектор(Соединение) Тогда

        Результат  = OPI_FTP.ЗагрузитьФайл(Соединение, Картинка, "new_dir/pic_from_disk.png");
        Результат2 = OPI_FTP.ЗагрузитьФайл(Соединение, КартинкаДД, "pic_from_binary.png");

    Иначе
        Результат = Соединение; // Ошибка соединения
    КонецЕсли;
```
    

 <Tabs>
  
    <TabItem value="bash" label="Bash" default>
        ```bash
            # JSON данные также могут быть переданы как путь к файлу .json
            
            oint ftp ЗагрузитьФайл \
              --conn "{'set':{'domain':'172.33.0.11','port':'21','passive':'***','read_timeout':'120','write_timeout':'120','advanced_resolve':'True','login':'bayselonarrend','password':'***'},'proxy':{'server':'127.0.0.1','port':'8071','proxy_type':'http','login':'proxyuser','password':'***'},'tls':{'use_tls':'True','accept_invalid_certs':'True'}}" \
              --file "52 61 72 21 1A 07 01 00 30 23 12 A7 10 01 05 0C 00 0B 01 01 8B C8 8F A0 81 80 80 80 00 F8 44 59 F3 37 02 03 0B 85 E4 02 04 A0 DE 08 A0 40 52 47 4A ED 80 43 00 18 61 73 73 65 74 73 2F 69 6E 64…" \
              --path "new_dir/big.bin"
        ```
    </TabItem>
  
    <TabItem value="bat" label="CMD/Bat" default>
        ```batch
            :: JSON данные также могут быть переданы как путь к файлу .json
            
            oint ftp ЗагрузитьФайл ^
              --conn "{'set':{'domain':'172.33.0.11','port':'21','passive':'***','read_timeout':'120','write_timeout':'120','advanced_resolve':'True','login':'bayselonarrend','password':'***'},'proxy':{'server':'127.0.0.1','port':'8071','proxy_type':'http','login':'proxyuser','password':'***'},'tls':{'use_tls':'True','accept_invalid_certs':'True'}}" ^
              --file "52 61 72 21 1A 07 01 00 30 23 12 A7 10 01 05 0C 00 0B 01 01 8B C8 8F A0 81 80 80 80 00 F8 44 59 F3 37 02 03 0B 85 E4 02 04 A0 DE 08 A0 40 52 47 4A ED 80 43 00 18 61 73 73 65 74 73 2F 69 6E 64…" ^
              --path "new_dir/big.bin"
        ```
    </TabItem>
</Tabs>



