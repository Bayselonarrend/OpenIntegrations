---
sidebar_position: 11
description: Ответить на событие клавиатуры и другие функции для работы с VKTeams в Открытом пакете интеграций - бесплатной open-source библиотеке интеграций для 1С:Предприятие 8, OneScript и CLI
keywords: [1C, 1С, 1С:Предприятие, 1С:Предприятие 8.3, API, Интеграция, Сервисы, Обмен, OneScript, CLI, VKTeams]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Ответить на событие клавиатуры
 Возвращает ответ пользователю при нажатии на кнопку клавиатуры



`Функция ОтветитьНаСобытиеКлавиатуры(Знач Токен, Знач IDСобытия, Знач Текст = "", Знач URL = "", Знач ЭтоПредупреждение = Ложь) Экспорт`

  | Параметр | CLI опция | Тип | Обяз. | Назначение |
  |-|-|-|-|-|
  | Токен | --token | Строка | &#x2714; | Токен бота |
  | IDСобытия | --queryid | Строка | &#x2714; | Идентификатор callback query полученного ботом |
  | Текст | --text | Строка | &#x2716; | Текст ответа |
  | URL | --url | Строка | &#x2716; | URL, который будет открыт клиентским приложением |
  | ЭтоПредупреждение | --showalert | Булево | &#x2716; | Отображать ответ как предупреждение (alert) |

  
  Возвращаемое значение:   Соответствие Из КлючИЗначение - сериализованный JSON ответа от VK Teams

<br/>

:::tip
Вызов данного метода должен использоваться в ответ на получение события callbackQuery

Метод в документации API: [GET /messages/answerCallbackQuery](https://teams.vk.com/botapi/#/messages/get_messages_answerCallbackQuery)
:::
<br/>



```bsl title="Пример использования для 1С:Предприятие/OneScript"
    Токен        = "001.3501506236.091...";
    IDПоследнего = 0;

    Для Н = 1 По 5 Цикл

        Результат = OPI_VKTeams.ПолучитьСобытия(Токен, IDПоследнего, 3);
        События   = Результат["events"];

        Если Не События.Количество() = 0 Тогда

            Для Каждого Событие Из События Цикл

                ДанныеСобытия = Событие["payload"];

                Если ДанныеСобытия["callbackData"] = "НажатиеКнопки1" Тогда

                    IDСобытия = ДанныеСобытия["queryId"];
                    Результат = OPI_VKTeams.ОтветитьНаСобытиеКлавиатуры(Токен, IDСобытия, "Получено!");

                КонецЕсли;

            КонецЦикла;

            IDПоследнего = События[События.ВГраница()]["eventId"];

        КонецЕсли;

    КонецЦикла;
```
    



```json title="Результат"
{
 "ok": true
}
```
