---
sidebar_position: 4
description: Получить структуру внешней таблицы и другие функции для работы с ClickHouse в Открытом пакете интеграций - бесплатной open-source библиотеке интеграций для 1С:Предприятие 8, OneScript и CLI
keywords: [1C, 1С, 1С:Предприятие, 1С:Предприятие 8.3, API, Интеграция, Сервисы, Обмен, OneScript, CLI, ClickHouse]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Получить структуру внешней таблицы
 Получает структуру описания внешней таблицы запроса



`Функция ПолучитьСтруктуруВнешнейТаблицы(Знач Имя, Знач СтруктураКолонок, Знач Данные = Неопределено, Знач ФорматДанных = Неопределено) Экспорт`

  | Параметр | CLI опция | Тип | Обяз. | Назначение |
  |-|-|-|-|-|
  | Имя | --name | Строка | &#x2714; | Имя таблицы |
  | СтруктураКолонок | --cols | Структура Из КлючИЗначение | &#x2714; | Структура колонок таблицы: Ключ > имя, Значение > тип данных |
  | Данные | --data | Произвольный | &#x2716; | Строка, файл или двоичные данные таблицы |
  | ФорматДанных | --format | Строка | &#x2716; | Формат данных: CVS, TVS, JSON и др. |

  
  Возвращаемое значение:   Структура Из КлючИЗначение - Структура описания внешней таблицы



```bsl title="Пример использования для 1С:Предприятие/OneScript"
    // Минимальная структура

    ИмяТаблицы       = "external_data";
    СтруктураКолонок = Новый Структура;
    СтруктураКолонок.Вставить("id"  , "UInt64");
    СтруктураКолонок.Вставить("name", "String");

    Результат = OPI_ClickHouse.ПолучитьСтруктуруВнешнейТаблицы(ИмяТаблицы, СтруктураКолонок);

    // С данными TSV

    ДанныеТаблицы = СтрШаблон("1%1Test
    |2%2Test2", Символы.Таб);

    Результат = OPI_ClickHouse.ПолучитьСтруктуруВнешнейТаблицы(ИмяТаблицы, СтруктураКолонок, ДанныеТаблицы, "TSV");
```
    




