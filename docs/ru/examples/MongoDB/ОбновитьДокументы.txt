    Адрес  = "127.0.0.1:1234";
    Логин  = "bayselonarrend";
    Пароль = "12we...";
    База   = "main";

    ПараметрыПодключения = Новый Структура("authSource", "admin");
    Опции                = Новый Структура;
    Опции.Вставить("addr"  , Адрес);
    Опции.Вставить("usr"   , Логин);
    Опции.Вставить("pwd"   , Пароль);
    Опции.Вставить("params", ПараметрыПодключения);

    СтрокаПодключения = OPI_ПолучениеДанныхТестов.ВыполнитьТестCLI("mongodb", "СформироватьСтрокуПодключения", Опции);
    Соединение        = OPI_MongoDB.ОткрытьСоединение(СтрокаПодключения);

    Коллекция = "new_collection";

    // __4 = $
    Фильтр = Новый Структура("stringField,doubleField", "Текст", Новый Структура("__4gte, __4lte", 100, 150));
    Данные = Новый Структура( "__4set", Новый Структура("doubleField", 999));

    Обновление = OPI_MongoDB.ПолучитьСтруктуруОбновленияДокументов(Фильтр, Данные); // Массив или одиночное
    Опции      = Новый Структура;
    Опции.Вставить("dbc"    , Соединение);
    Опции.Вставить("coll"   , Коллекция);
    Опции.Вставить("updates", Обновление);
    Опции.Вставить("db"     , База);

    Результат = OPI_ПолучениеДанныхТестов.ВыполнитьТестCLI("mongodb", "ОбновитьДокументы", Опции);